{"ast":null,"code":"import _slicedToArray from\"C:/Donator-Market/donator-market-docker/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import'./MemberManagement.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MemberManagement(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),memberMng=_useState2[0],setMemberMng=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),pageNum=_useState4[0],setPageNum=_useState4[1];var maxPage=10;// 변수 초기화\nfunction callback(str){setMemberMng(str);}useEffect(function(){axios({url:'/members/managements',method:'GET',headers:{'Authorization':'Bearer '+localStorage.getItem(\"ACCESS_TOKEN\"),'Content-Type':'application/json'},params:{\"pageNum\":pageNum}}).then(function(res){callback(res.data);if(res.data.problem!=false){alert(\"회원 정보를 불러오는 중 문제가 발생하였습니다.\");}}).catch(function(error){if(error.response.status===403||error.response.status===400){alert(\"조회 권한이 없습니다.\");window.location.href=\"/members/login\";}});},[]);var prevPage=function prevPage(e){e.preventDefault();setPageNum(pageNum-1);axios({url:'/members/managements',method:'GET',headers:{'Authorization':'Bearer '+localStorage.getItem(\"ACCESS_TOKEN\"),'Content-Type':'application/json'},params:{\"pageNum\":pageNum-1}}).then(function(res){callback(res.data);});};var nextPage=function nextPage(pageNum,e){e.preventDefault();setPageNum(pageNum+1);axios({url:'/members/managements',method:'GET',headers:{'Authorization':'Bearer '+localStorage.getItem(\"ACCESS_TOKEN\"),'Content-Type':'application/json'},params:{\"pageNum\":pageNum+1}}).then(function(res){callback(res.data);});};var clickPage=function clickPage(arr,e){e.preventDefault();setPageNum(arr);axios({url:'/members/managements',method:'GET',headers:{'Authorization':'Bearer '+localStorage.getItem(\"ACCESS_TOKEN\"),'Content-Type':'application/json'},params:{\"pageNum\":arr}}).then(function(res){callback(res.data);});};var arr=[1,2,3,4,5,6,7,8,9,10];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"memberMngContainer\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{class:\"mb-4\",children:\"\\uD68C\\uC6D0 \\uBAA9\\uB85D\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC8FC\\uC18C\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uAD8C\\uD55C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:memberMng.memberManagement&&memberMng.memberManagement.map(function(member){/*#__PURE__*/_jsx(\"li\",{},member.id);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:member.id}),/*#__PURE__*/_jsx(\"td\",{children:member.name}),/*#__PURE__*/_jsx(\"td\",{children:member.email}),/*#__PURE__*/_jsx(\"td\",{children:member.address}),/*#__PURE__*/_jsx(\"td\",{children:member.role})]});})})]})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination justify-content-center\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",disabled:pageNum==0?true:false,href:'?page='+pageNum,type:\"button\",onClick:prevPage,children:\"Previous\"})}),arr.map(function(arr){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",href:'?page='+(arr-1),onClick:function onClick(e){return clickPage(arr-1,e);},children:arr})})});}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",disabled:pageNum+1==pageNum?true:false,href:'?page='+pageNum,type:\"button\",onClick:function onClick(e){return nextPage(pageNum,e);},children:\"Next\"})})]})})]});}export default MemberManagement;","map":{"version":3,"names":["React","useState","useEffect","axios","MemberManagement","memberMng","setMemberMng","pageNum","setPageNum","maxPage","callback","str","url","method","headers","localStorage","getItem","params","then","res","data","problem","alert","catch","error","response","status","window","location","href","prevPage","e","preventDefault","nextPage","clickPage","arr","memberManagement","map","member","id","name","email","address","role"],"sources":["C:/Donator-Market/donator-market-docker/frontend/src/management/MemberManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios'\r\nimport './MemberManagement.css';\r\n\r\nfunction MemberManagement() {\r\n\r\n    const [ memberMng, setMemberMng ] = useState('');\r\n    const[pageNum, setPageNum] = useState(0);\r\n    const maxPage = 10;\r\n\r\n    // 변수 초기화\r\n    function callback(str) {\r\n      setMemberMng(str);\r\n    }\r\n\r\n    useEffect(\r\n        () => {\r\n          axios({\r\n              url: '/members/managements',\r\n              method: 'GET',\r\n              headers: { \r\n                'Authorization' : 'Bearer ' + localStorage.getItem(\"ACCESS_TOKEN\"),\r\n                'Content-Type': 'application/json' \r\n              },\r\n              params: {\r\n                \"pageNum\": pageNum\r\n              }\r\n          }).then((res) => {\r\n              callback(res.data);\r\n              if(res.data.problem != false) {\r\n                alert(\"회원 정보를 불러오는 중 문제가 발생하였습니다.\")\r\n              }\r\n          }).catch((error) => {\r\n            if(error.response.status === 403 || error.response.status === 400) {\r\n                alert(\"조회 권한이 없습니다.\")\r\n                window.location.href = \"/members/login\"\r\n            }\r\n        })\r\n        }, []\r\n    );\r\n\r\n    const prevPage = (e) => {\r\n        e.preventDefault();\r\n        setPageNum(pageNum - 1);\r\n        axios({\r\n            url: '/members/managements',\r\n            method: 'GET',\r\n            headers: { \r\n                'Authorization' : 'Bearer ' + localStorage.getItem(\"ACCESS_TOKEN\"),\r\n                'Content-Type': 'application/json' \r\n              },\r\n            params: {\r\n                \"pageNum\": pageNum-1\r\n            }\r\n        }).then((res) => {\r\n            callback(res.data);\r\n        })\r\n    }\r\n\r\n    const nextPage = (pageNum, e) => {\r\n        e.preventDefault();\r\n        setPageNum(pageNum + 1);\r\n        axios({\r\n            url: '/members/managements',\r\n            method: 'GET',\r\n            headers: { \r\n                'Authorization' : 'Bearer ' + localStorage.getItem(\"ACCESS_TOKEN\"),\r\n                'Content-Type': 'application/json' \r\n              },\r\n            params: {\r\n                \"pageNum\": pageNum+1\r\n            }\r\n        }).then((res) => {\r\n            callback(res.data);\r\n        })\r\n\r\n    }\r\n\r\n    const clickPage = (arr, e) => {\r\n        e.preventDefault();\r\n        setPageNum(arr)\r\n        axios({\r\n            url: '/members/managements',\r\n            method: 'GET',\r\n            headers: { \r\n                'Authorization' : 'Bearer ' + localStorage.getItem(\"ACCESS_TOKEN\"),\r\n                'Content-Type': 'application/json' \r\n              },\r\n            params: {\r\n                \"pageNum\": arr\r\n            }\r\n        }).then((res) => {\r\n            callback(res.data);\r\n        })\r\n    }\r\n\r\n    const arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n\r\n\r\n    return(\r\n        <>\r\n        <div className='memberMngContainer'>\r\n            <div>\r\n            <h2 class=\"mb-4\">회원 목록</h2>\r\n            </div>\r\n\r\n\r\n            <div>\r\n                <table className=\"table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <td>아이디</td>\r\n                        <td>이름</td>\r\n                        <td>이메일</td>\r\n                        <td>주소</td>\r\n                        <td>권한</td>\r\n                    </tr>\r\n                    </thead>\r\n\r\n                    <tbody> \r\n                    {memberMng.memberManagement && memberMng.memberManagement.map((member) => {\r\n                    <li key={member.id}/>\r\n                    return(\r\n                        <tr>\r\n                            <td>{member.id}</td>\r\n                            <td>{member.name}</td>\r\n                            <td>{member.email}</td>\r\n                            <td>{member.address}</td>\r\n                            <td>{member.role}</td>\r\n                        </tr>\r\n                    )})}\r\n                    </tbody>\r\n\r\n                </table>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n        <div>\r\n            <ul className='pagination justify-content-center'>\r\n\r\n            <li className='page-item'>\r\n                <a className='page-link'  disabled={pageNum==0?true:false} \r\n                href={'?page='+ (pageNum)} type='button'\r\n                onClick={prevPage}\r\n                >Previous\r\n                </a>\r\n            </li>\r\n            {arr.map((arr) => {\r\n                return(\r\n                    <>\r\n                <li className='page-item'>\r\n                        <a className='page-link'\r\n                        href={'?page=' + (arr-1)} \r\n                        onClick={(e) => clickPage(arr-1, e)}\r\n                        >{arr} \r\n                        </a>\r\n                    </li>\r\n                    </>\r\n                )\r\n            })}\r\n\r\n            <li className='page-item'>\r\n                <a className=\"page-link\"  disabled={(pageNum+1)==pageNum?true:false } \r\n                href={'?page=' + (pageNum)} type='button'\r\n                onClick={(e)=>nextPage(pageNum, e)} \r\n                >Next\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default MemberManagement;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}