{"ast":null,"code":"import _slicedToArray from\"C:/Donator-Market/donator-market-docker/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import'./Login.css';import Header from'../fragment/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var formData=new FormData();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),testStr=_useState2[0],setTestStr=_useState2[1];// 변수 초기화\nfunction callback(str){setTestStr(str);}var signInForm=function signInForm(e){e.preventDefault();};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),loginName=_useState8[0],setLoginName=_useState8[1];var handleChangeEmail=function handleChangeEmail(event){setEmail(event.target.value);};var handleChangePassword=function handleChangePassword(event){setPassword(event.target.value);};formData.append(\"email\",email);formData.append(\"password\",password);var jsonData=JSON.stringify({\"email\":email,\"password\":password});var sendLoginRequest=function sendLoginRequest(){axios({url:'/members/login/token',method:\"post\",headers:{'Content-Type':'application/json'},data:jsonData}).then(function(res){callback(res.data);if(res.data.token){localStorage.setItem(\"ACCESS_TOKEN\",res.data.token);window.location.href=\"/\";}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"loginContainer\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",onSubmit:signInForm,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",placeholder:\"Enter email\",value:email,onChange:handleChangeEmail})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Enter password\",value:password,onChange:handleChangePassword})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-control custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck1\"}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-control-label\",htmlFor:\"customCheck1\",children:\"Remember me\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",id:\"siginBtn\",onClick:sendLoginRequest,children:\"Sign in\"})})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","axios","Header","Login","formData","FormData","testStr","setTestStr","callback","str","signInForm","e","preventDefault","email","setEmail","password","setPassword","loginName","setLoginName","handleChangeEmail","event","target","value","handleChangePassword","append","jsonData","JSON","stringify","sendLoginRequest","url","method","headers","data","then","res","token","localStorage","setItem","window","location","href"],"sources":["C:/Donator-Market/donator-market-docker/frontend/src/login/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios'\nimport './Login.css';\nimport Header from '../fragment/Header'\n\nfunction Login() {\n\n  let formData = new FormData();\n\n  const [ testStr, setTestStr ] = useState('');\n  // 변수 초기화\n  function callback(str) {\n    setTestStr(str);\n  }\n\n  const signInForm = (e) => {\n    e.preventDefault();\n  }\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginName, setLoginName] = useState('');\n\n  const handleChangeEmail = (event) => {\n    setEmail(event.target.value);\n  }\n\n  const handleChangePassword = (event) => {\n    setPassword(event.target.value);\n  }\n\n  formData.append(\"email\", email);\n  formData.append(\"password\", password);\n\n  var jsonData = JSON.stringify({\n    \"email\": email,\n    \"password\": password\n  });\n  \n\nconst sendLoginRequest = () => {\n\n      axios({\n        url: '/members/login/token',\n        method: \"post\",\n        headers: { \n          'Content-Type': 'application/json' \n        },\n        data: jsonData\n      }).then((res) => {\n        callback(res.data);\n        if(res.data.token) {\n          localStorage.setItem(\"ACCESS_TOKEN\", res.data.token);\n          window.location.href = \"/\";\n        }\n      })\n\n      \n\n}\n\n  return(\n    <div className=\"loginContainer\">\n    <h2 className=\"mb-4\">로그인</h2>\n    {/* <h3>{testStr.loginInfo[0].loginName}</h3> */}\n         <form className=\"loginForm\" onSubmit={signInForm}>\n            <div className=\"mb-3\">\n              <label>Email address</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                className=\"form-control\"\n                placeholder=\"Enter email\"\n                value={email}\n                onChange={handleChangeEmail}\n              />\n            </div>\n\n            <div className=\"mb-3\">\n              <label>Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                className=\"form-control\"\n                placeholder=\"Enter password\"\n                value={password}\n                onChange={handleChangePassword}\n              />\n            </div>\n\n            <div className=\"mb-3\">\n              <div className=\"custom-control custom-checkbox\">\n                <input\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"customCheck1\"\n                />\n                <label className=\"custom-control-label\" htmlFor=\"customCheck1\">\n                  Remember me\n                </label>\n              </div>\n            </div>\n\n            <div className=\"d-grid\">\n              <button className=\"btn btn-primary\" id='siginBtn'\n              onClick={sendLoginRequest}>\n                Sign in\n              </button>\n            </div>\n\n          </form>\n  </div>\n);      \n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}