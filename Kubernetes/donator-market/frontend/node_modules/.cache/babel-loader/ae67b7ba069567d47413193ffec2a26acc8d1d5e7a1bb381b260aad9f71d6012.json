{"ast":null,"code":"var _jsxFileName = \"/opt/donator-market/frontend/src/main/MainList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Container, Card, Row, Col, Button } from 'react-bootstrap';\nimport './Main.css';\nimport Pagination from 'react-js-pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MainList() {\n  _s();\n  const [testStr, setTestStr] = useState('');\n  const [pageNum, setPageNum] = useState(0);\n  const [itemCount, setItemCount] = useState(0);\n\n  // 변수 초기화\n  function callback(str) {\n    setTestStr(str);\n  }\n  useEffect(() => {\n    axios({\n      url: '/main',\n      method: 'GET',\n      params: {\n        \"pageNum\": pageNum\n      }\n    }).then(res => {\n      callback(res.data);\n      setItemCount(res.data.itemCount);\n      console.log(res.data);\n      if (res.data.problem != false) {\n        alert(\"화면을 불러오는데 문제가 발생하였습니다.\");\n      }\n    });\n  }, []);\n  let arr = [];\n  for (let i = 0; i < Math.ceil(itemCount / 9); i++) {\n    arr.push(i + 1);\n  }\n  const prevPage = e => {\n    e.preventDefault();\n    if (pageNum === 0) {\n      alert(\"첫번째 페이지 입니다.\");\n    } else {\n      setPageNum(pageNum - 1);\n      axios({\n        url: '/main',\n        method: 'GET',\n        params: {\n          \"pageNum\": pageNum - 1\n        }\n      }).then(res => {\n        callback(res.data);\n        console.log(\"prevPage \", res.data.itemsObj[0].pageNum);\n      });\n    }\n  };\n  const nextPage = (pageNum, e) => {\n    e.preventDefault();\n    if (pageNum >= Math.ceil(itemCount / 9) - 1) {\n      alert(\"마지막 페이지입니다.\");\n    } else {\n      setPageNum(pageNum + 1);\n      console.log(\"after \", pageNum);\n      axios({\n        url: '/main',\n        method: 'GET',\n        params: {\n          \"pageNum\": pageNum + 1\n        }\n      }).then(res => {\n        callback(res.data);\n        console.log(\"nextPage \", res.data.itemsObj[0].pageNum);\n      });\n    }\n  };\n  const clickPage = (arr, e) => {\n    e.preventDefault();\n    setPageNum(arr);\n    console.log(arr);\n    axios({\n      url: '/main',\n      method: 'GET',\n      params: {\n        \"pageNum\": arr\n      }\n    }).then(res => {\n      callback(res.data);\n      console.log(\"nextPage \", res.data.itemsObj[0].pageNum);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [testStr.items && testStr.items.map(item => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: item.id,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"card-img-top\",\n              src: \"https://shopitemimage.s3.ap-northeast-2.amazonaws.com/itemImg/\" + item.oriImgName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"card-title\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: item.dtl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                class: \"card-title text-danger\",\n                children: item.stockNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"pagination justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"page-item\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"page-link\",\n              disabled: pageNum == 0 ? true : false,\n              href: '?page=' + pageNum,\n              type: \"button\",\n              onClick: prevPage,\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), arr.map(arr => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"page-item\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"page-link\",\n                  href: '?page=' + (arr - 1),\n                  onClick: e => clickPage(arr - 1, e),\n                  children: arr\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 29\n              }, this)\n            }, void 0, false);\n          }), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"page-item\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"page-link\",\n              disabled: pageNum + 1 == pageNum ? true : false,\n              href: '?page=' + pageNum,\n              type: \"button\",\n              onClick: e => nextPage(pageNum, e),\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }, this)\n    }, void 0, false)]\n  }, void 0, true);\n}\n_s(MainList, \"dVZP8oDpgLFej70qHV8qRCYvE54=\");\n_c = MainList;\nexport default MainList;\nvar _c;\n$RefreshReg$(_c, \"MainList\");","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Card","Row","Col","Button","Pagination","MainList","testStr","setTestStr","pageNum","setPageNum","itemCount","setItemCount","callback","str","url","method","params","then","res","data","console","log","problem","alert","arr","i","Math","ceil","push","prevPage","e","preventDefault","itemsObj","nextPage","clickPage","items","map","item","id","oriImgName","name","dtl","stockNumber"],"sources":["/opt/donator-market/frontend/src/main/MainList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios'\nimport 'bootstrap/dist/css/bootstrap.min.css';  \nimport {Container ,Card,Row, Col, Button} from 'react-bootstrap';  \nimport './Main.css';\nimport Pagination from 'react-js-pagination';\n\nfunction MainList() {\n\n\n    const [ testStr, setTestStr ] = useState('');\n    const[pageNum, setPageNum] = useState(0);\n    const [itemCount, setItemCount] = useState(0);\n\n    // 변수 초기화\n    function callback(str) {\n    setTestStr(str);\n    }\n\n    \n    useEffect(\n        () => {\n         axios({\n            url: '/main',\n            method: 'GET',\n            params: {\n                \"pageNum\": pageNum\n            }\n        }).then((res) => {\n            callback(res.data);\n            setItemCount(res.data.itemCount);\n            console.log(res.data)\n            if(res.data.problem != false) {\n                alert(\"화면을 불러오는데 문제가 발생하였습니다.\");\n            }\n        })\n        }, []\n); \n\nlet arr = []\nfor(let i = 0 ; i < Math.ceil(itemCount/9) ; i++) {\n    arr.push(i+1)\n}\n\n        const prevPage = (e) => {\n            e.preventDefault();\n            if (pageNum === 0) {\n                alert(\"첫번째 페이지 입니다.\")\n            } else {\n                setPageNum(pageNum - 1);\n                axios({\n                    url: '/main',\n                    method: 'GET',\n                    params: {\n                        \"pageNum\": pageNum-1\n                    }\n                }).then((res) => {\n                    callback(res.data);\n                    console.log(\"prevPage \", res.data.itemsObj[0].pageNum);\n                })\n            }\n        }\n    \n        const nextPage = (pageNum, e) => {\n            e.preventDefault();\n            if(pageNum >= Math.ceil(itemCount/9) - 1) {\n                alert(\"마지막 페이지입니다.\")\n            } else {\n                setPageNum(pageNum + 1);\n                console.log(\"after \", pageNum)\n                axios({\n                    url: '/main',\n                    method: 'GET',\n                    params: {\n                        \"pageNum\": pageNum+1\n                    }\n                }).then((res) => {\n                    callback(res.data);\n                    console.log(\"nextPage \", res.data.itemsObj[0].pageNum);\n                })\n            }\n        }\n\n        const clickPage = (arr, e) => {\n            e.preventDefault();\n            setPageNum(arr)\n            console.log(arr)\n            axios({\n                url: '/main',\n                method: 'GET',\n                params: {\n                    \"pageNum\": arr\n                }\n            }).then((res) => {\n                callback(res.data);\n                console.log(\"nextPage \", res.data.itemsObj[0].pageNum);\n            })\n        }\n   \n    return(\n        <>\n            {testStr.items && testStr.items.map((item) => {\n                return(\n                    <>\n                    \n                        <Card className=\"card\" key={item.id}>\n                            <a href={item.id}>\n                                <img className=\"card-img-top\" src={\"https://shopitemimage.s3.ap-northeast-2.amazonaws.com/itemImg/\"+item.oriImgName} />\n                                <div className=\"card-body\">\n                                    <h4 className=\"card-title\">{item.name}</h4>\n                                    <p className=\"card-text\">{item.dtl}</p>\n                                    <h3 class=\"card-title text-danger\">{item.stockNumber}</h3>\n                                </div>\n                            </a>\n                        </Card>\n                    </>\n                );\n            })}\n                    <>\n\n                    <div>\n                        <ul className='pagination justify-content-center'>\n\n                        <li className='page-item'>\n                            <a className='page-link'  disabled={pageNum==0?true:false} \n                            href={'?page='+ (pageNum)} type='button'\n                            onClick={prevPage}\n                            >Previous\n                            </a>\n                        </li>\n                        {arr.map((arr) => {\n                            return(\n                                <>\n                            <li className='page-item'>\n                                    <a className='page-link'\n                                    href={'?page=' + (arr-1)} \n                                    onClick={(e) => clickPage(arr-1, e)}\n                                    >{arr} \n                                    </a>\n                                </li>\n                                </>\n                            )\n                        })}\n\n                        <li className='page-item'>\n                            <a className=\"page-link\"  disabled={(pageNum+1)==pageNum?true:false } \n                            href={'?page=' + (pageNum)} type='button'\n                            onClick={(e)=>nextPage(pageNum, e)} \n                            >Next\n                            </a>\n                        </li>\n                    </ul>\n                    </div>\n                    </>             \n\n           \n\n        </>\n    );\n}\n\nexport default MainList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}